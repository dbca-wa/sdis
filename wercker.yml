# Read more about containers on our dev center
# http://devcenter.wercker.com/docs/containers/index.html
box: ota/python-geodjango@1.0.0
# You can also use services such as databases. Read more on our dev center:
# http://devcenter.wercker.com/docs/services/index.html
services:
    - mies/postgis@0.0.5

    #- id: postgres
    #  env:
    #    POSTGRES_PASSWORD: secretpassword
    #    POSTGRES_USER: sdis
    # http://devcenter.wercker.com/docs/services/postgresql.html

# This is the build pipeline. Pipelines are the core of wercker
# Read more about pipelines on our dev center
# http://devcenter.wercker.com/docs/pipelines/index.html
build:
  # The steps that will be executed on build
  # Steps make up the actions in your pipeline
  # Read more about steps on our dev center:
  # http://devcenter.wercker.com/docs/steps/index.html
  steps:
    - script:
        name: Install system dependencies
        code: |
            sudo apt-get update
            sudo apt-get install -y libxml2-dev libxslt1-dev libsasl2-dev libenchant1c2a


    # A custom script step, name value is used in the UI
    # and the code value contains the command that get executed
    - script:
        name: echo python information
        code: |
          echo "python version $(python --version) running"
          echo "pip version $(pip --version) running"
